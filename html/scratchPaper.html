<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- mapbox-gl CSS -->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet'>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/weather_map.css">
    <title>Weather Map Project</title>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <span class="navbar-brand mb-0 h1">Weather Map Project</span>
    <div class="navbar-toggler d-flex">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="text-light d-lg-none dark-mode pl-3">
            <i class="fa fa-sun-o"></i>/<i class="fa fa-moon-o"></i>
        </div>
    </div>

    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="modal" data-target="#aboutUsModal" href="#">About</a>
            </li>
        </ul>
    </div>

    <div class="text-light d-none d-lg-block ml-auto dark-mode">
        <i class="fa fa-sun-o"></i>/<i class="fa fa-moon-o"></i>
    </div>
</nav>

<div class="modal fade" id="aboutUsModal" tabindex="-1" aria-labelledby="aboutUsModal" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Weather Map</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" id="x">Ã—</span>
                </button>
            </div>
            <div class="modal-body">
                <p>This is a solo project using Mapbox API, OpenWeather API, JavaScript and Bootstrap to display a 5-day weather forecast.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<main class="m-4">
    <div class="card">
        <div class="card-header bg-secondary d-flex justify-content-between">
            <h5 class="text-light m-0" id="current-city">Current city: San Antonio</h5>
            <div class="input-group">
                <input class="form-control" type="text" id="place" placeholder="San Antonio, TX">
                <div class="input-group-append">
                    <button class="btn btn-secondary" type="button" id="search"><i class="fa fa-search"></i></button>
                </div>

            </div>

        </div>
        <div class="card-body d-flex flex-column align-items-center">
            <div class="card-deck">
                <div class="card ml-0"></div>
                <div class="card"></div>
                <div class="card"></div>
                <div class="card"></div>
                <div class="card mr-0"></div>
            </div>
            <div class="mt-3 rounded" id='map'></div>
        </div>

    </div>

</main>



<script src="js/keys.js"></script>
<!-- Mapbox JS -->
<script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>

<!-- Mapbox Geocoder Util Methods -->
<script src="js/mapbox-geocoder-utils.js"></script>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

<!-- Custom JS -->
<script src="js/weather_map.js"></script>

</body>
</html>


<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>weathermap template</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/weather_map.css">
    <style>
        #map {
            /* the width and height may be set to any size */
            width: 80%;
            height: 700px;
        }
    </style>
</head>
<body>
<div class="d-flex justify-content-center my-5">
    <img class="weather-logo" src="/image" alt="weather logo image">
</div>
<section class="d-flex justify-content-center">
    <div id='map' class="d-flex"></div>
</section>
<section class="mt-5 d-flex justify-content-center">
    <div id="locationName" class="d-flex justify-content-center"></div>
</section>
<section class="mt-5 d-flex">
    <div id="forecast" class="d-flex justify-content-center row row-cols-2 row-cols-lg-5 g-2 g-lg-3"></div>
</section>

&lt;!&ndash;API Keys&ndash;&gt;
<script src="js/keys.js"></script>
&lt;!&ndash;JQuery&ndash;&gt;
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
&lt;!&ndash; Mapbox&ndash;&gt;
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
&lt;!&ndash;MapBox JS&ndash;&gt;
<script src="js/weather_map_mapbox.js"></script>
&lt;!&ndash;GeoCoder Utils&ndash;&gt;
<script src="js/geocoder-utils.js"></script>
&lt;!&ndash;Weather Map Script&ndash;&gt;
<script src="js/weather_map.js"></script>
</body>
</html>-->


=======

<script>
    //Austin TX coords
    let lat = 30.2672;
    let long = 97.7431;
    let units = "imperial";

    //initialize weather data
    // now we can call get weatherdata to change based on user-input
    getWeatherData(lat, long);

    function getWeatherData(lat, long) {
//curly brace w/backtiks
        fetch(`http://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&units=imperial&appid=${OWM_KEY}`)
            .then(response => response.json())
            //one line arrow function - .then says when the response comes back execute this.
            .then((data) => {
                console.log(data);
                console.log(data.current);
            })
//append to the body - bulding a string represeentation of html to insert in doc once data comes back
        let html = "";
        html += '<ul>';
        for (let i = 0; i < 5; i++) {
            html += '<div>';
            html += '<div>' + data.daily[i].humidity + '</div>'
            html += '<div>' + data.daily[i].moon_phase + '</div>'
        }
    }


    /*    html += '<div>' + data.daily[i]. + '</div>'*/

    //write bootstrap classes within div

    /*  function etractWeatherData*!/*/

    /*
        function buildCardContent(dayArr) {
            let html = '<div>'
            for (let i = 0; i < 5; i++) {
                html += buildWeatherCard(dayArr[i]);
            }
            html += '</div>'
        }
    */

    /*    //card takes in one days worth of data
        function buildWeatherCard(day) {
            let html = " ";
            //paste bootsrap card here.
            html +=
                `<div class="card" style="width: 18rem;">
        &lt;!&ndash;      <img class="card-img-top" src="..." alt="Card image cap">&ndash;&gt;
                    <div class="card-header">
                    ${day.dt}
                  </div>
                     &lt;!&ndash;   <h5 class="card-title">Card title</h5>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                            card's content.</p>
                    </div>&ndash;&gt;
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                    <div class="card-body">
                        <a href="#" class="card-link">Card link</a>
                        <a href="#" class="card-link">Another link</a>
                    </div>`
            return html;
        }*/
    /*
            {
                let date = new Date(unixDate * 1000).toISOString();
                return date;
            }
    */-->

    function getWeatherIN5Days() {
        let weathersInEvery3Hrs = results.list;   // 5 day / 3 hour forecast data (0:00am, 3:00, 6:00, 9:00, 12:00pm, 3:00pm, 6:00pm, 9:00pm)


        + currentWeather.wind_deg + "degs"

        //append to the body - bulding a string represeentation of html to insert in doc once data comes back
        function getFiveDayWeatherCard(currentWeather) {
            return

            let html = "";
            html += '<ul>';
            for (let i = 0; i < 5; i++) {
                html += '<div>' + data.daily[i].humidity + '</div>'
                html += '<div>' + data.daily[i].moon_phase + '</div>'
            }
        })

        function convertWeatherTypeToImg(weatherType) {
            if (dayObject.weather === 'clouds') {
                weatherDisplay = `<i class="fa-solid fa-sun"></i>
    } else if (weatherType === 'Thunderstorm') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/thunderstorm.jpeg" alt="thunderstorm over a cabin">`
    } else if (weatherType === 'Drizzle') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/drizzle.webp" alt="rain into a man's hand">`
    } else if (weatherType === 'Rain') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/rain.jpeg" alt="rain into a puddle">`
    } else if (weatherType === 'Snow') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/snow.jpeg" alt="snowy cabins">`
    } else if (weatherType === 'Fog') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/fog.jpeg" alt="foggy forest">`
    } else if (weatherType === 'Mist') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/mist.jpeg" alt="mist">`
    } else if (weatherType === 'Smoke') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/smoke.webp" alt="smoke">`
    } else if (weatherType === 'Haze') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/haze.jpeg" alt="hazy woods">`
    } else if (weatherType === 'Dust' || forecast.currentWeatherType === 'Sand') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/dust.jpeg" alt="dusty area">`
    } else if (weatherType === 'Ash') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/ash.jpeg" alt="volcanic ash">`
    } else if (weatherType === 'Squall') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/squall.jpeg" alt="squall">`
    } else if (weatherType === 'Tornado') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/tornado.webp" alt="tornado">`
    } else if (weatherType === 'Clouds') {
        weatherDisplay = `<img class="weather-pic mx-auto" src="/pictures_and_stuff/clouds.jpeg" alt="clouds">`
    }
}
*/