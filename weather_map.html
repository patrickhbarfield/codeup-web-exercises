<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/weather_map">
    <title>weather_map</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>
<script src="keys.js"></script>

<div id="weather"></div>

<script>
    //Puerto Escondido, MX coords
    let lat = 15.8720;
    let long = 97.0767;
    let units = "imperial";

    //initialize weather data
    // now we can call get weatherdata to change based on user-input
    getWeatherData(lat, lon);

    function getWeatherData(lat, lon) {
//curly brace w/backtiks
        fetch(`http://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&units=imperial&appid=${OWM_KEY}`)
            .then(response => response.json())
            //one line arrow function - .then says when the response comes back execute this.
            .then((data) => {
                console.log(data);
                console.log(data.current);

//append to the body - bulding a string represeentation of html to insert in doc once data comes back
                let html = "";
                html += '<ul>';
                for (let i = 0; i < 5; i++) {
                    html += '<div>';
                    html += '<div>' + data.daily[i].humidity + '</div>'
                    html += '<div>' + data.daily[i].moon_phase + '</div>'
                    /*    html += '<div>' + data.daily[i]. + '</div>'*/

//write bootsrap classes within div
                    let dailyTemp = data.daily[i].temp.day
                    html += '<li>' + dailyTemp + '<li>';
                }
                html += '</div>';
                $('#weather').html(buildCardCont(data.daily));
            });
    }

/*  function etractWeatherData*!/*/

    function buildCardContent(dayArr) {
        let html = '<div>'
        for (let i = 0; i < 5; i++) {
            html += buildWeatherCard(dayArr[i]);
        }
        html += '</div>'
    }

    //card takes in one days worth of data
    function buildWeatherCard(day) {
        let html = " ";
        //paste bootsrap card here.
        html +=
            `<div class="card" style="width: 18rem;">
    <!--      <img class="card-img-top" src="..." alt="Card image cap">-->
                <div class="card-header">
                ${day.dt}
              </div>
                 <!--   <h5 class="card-title">Card title</h5>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                        card's content.</p>
                </div>-->
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">Cras justo odio</li>
                    <li class="list-group-item">Dapibus ac facilisis in</li>
                    <li class="list-group-item">Vestibulum at eros</li>
                </ul>
                <div class="card-body">
                    <a href="#" class="card-link">Card link</a>
                    <a href="#" class="card-link">Another link</a>
                </div>`
        return html;
    }
/*
        {
            let date = new Date(unixDate * 1000).toISOString();
            return date;
        }
*/

</script>

</body>
</html>